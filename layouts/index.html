{{ define "main" }}
  {{/* Render the configured homepage layout (hero, profile, etc.) */}}
  {{ $partial := print "home/" .Site.Params.homepage.layout ".html" }}
  {{ if templates.Exists ( printf "partials/%s" $partial ) }}
    {{ partial $partial . }}
  {{ else }}
    {{ partial "home/profile.html" . }}
  {{ end }}

  {{/* News & Updates section */}}
  {{ $newsPage := site.GetPage "/news" }}
  {{ with $newsPage }}
    {{ $items := .Params.items }}
    {{ if $items }}
    <section class="py-8">
      <h2 class="text-2xl font-bold mb-4 prose dark:prose-invert">News &amp; Updates</h2>
      <div class="prose dark:prose-invert max-w-none">
        {{ range first 10 $items }}
        <div style="display:flex; gap:1.2rem; margin-bottom:0.65rem; align-items:baseline;">
          <span style="white-space:nowrap; font-weight:600; min-width:6.5rem; font-size:0.875em; opacity:0.75;">
            {{ .date }}
          </span>
          <span>{{ .text | markdownify }}</span>
        </div>
        {{ end }}
      </div>
    </section>
    {{ end }}
  {{ end }}
{{ end }}
